##
## It does `docker-compose up -d` before starting the project, or else it gets
## the hose, again!
##
version: '2.1'
services:
  # 'mariadb':
  #   image: mariadb:10.7
  #   ports:
  #       - "3306:3306"
  #   command: mysqld --character-set-server=utf8 --collation-server=utf8_unicode_ci
  #   environment:
  #       ## Development only!
  #       - MYSQL_ALLOW_EMPTY_PASSWORD=true
  #       - MYSQL_DATABASE=varnished
  'db-alpha':
    image: postgres:15
    restart: always
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=postgres
    ports:
      - '5433:5432'
    volumes: 
      - db-alpha:/var/lib/postgresql/data
  'db-omega':
    image: postgres:15
    restart: always
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=postgres
    ports:
      - '5444:5432'
    volumes: 
      - db-omega:/var/lib/postgresql/data
volumes:
  db-alpha:
    driver: local
  db-omega:
    driver: local
